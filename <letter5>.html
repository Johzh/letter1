<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Letter Visual</title>
  <style>
    #letterModal {
      display: none;
      position: fixed;
      top: 0; left: 0;
      width: 100vw; height: 100vh;
      background: rgba(0,0,0,0.7);
      align-items: center;
      justify-content: center;
      z-index: 1000;
    }
    #letterModal > div {
      background: white;
      padding: 2em;
      border-radius: 8px;
      max-width: 500px;
      box-shadow: 0 2px 16px rgba(0,0,0,0.2);
    }
    .btn {
      margin-top: 1em;
      padding: 0.5em 1.5em;
      font-size: 1em;
      border: none;
      border-radius: 4px;
      background: #007bff;
      color: white;
      cursor: pointer;
    }
    .btn:hover {
      background: #0056b3;
    }
    #nextBtn {
      display: none;
    }
    #typedText {
      max-height: 300px;
      overflow-y: auto;
      white-space: pre-wrap;
      word-break: break-word;
      font-family: inherit;
      font-size: 1em;
    }
  </style>
</head>
<body>
  <div id="introText">Click the button to read the letter.</div>
  <button class="btn" onclick="showLetter()">Show Letter</button>

  <!-- Modal Visual -->
  <div id="letterModal">
    <div>
      <pre id="typedText"></pre>
      <button class="btn" id="nextBtn" onclick="showNextSection()">Next</button>
      <button class="btn" onclick="closeModal()">Close</button>
    </div>
  </div>

  <script>
    const message = `I don’t even know if you’ll ever read this.
But if you do… I just want you to know, I still think about you.

We both tried, life is unfair and the universe never gave us enough space to become "us". And I know that things might not have ended great with us, but know that I've never wanted anything that isn't the best for you.

I hope that in the time that we have been apart, that life has been good to you and that you've been content with where you are.

I always have, and always will want you to be happy, even if I dont get to be by your side to see it.

having to let go was the single hardest thing I've had to do, but I know it was the right thing for both of us, near the end it would've been a lie to say that I did you more good than harm.

But that night, when we we laid in your bed together, doing nothing but just scrolling and talking, feeling your heartbeat against mine, I've never felt more comfortable and at peace. If I could stay in any moment forever I would've picked that one. 

I hope that one day, even if it isn't in this life and even if you think that's a stupid notion, we'll meet again and maybe get another shot at it.

But until then, I wish you nothing but the best because you deserve no less

You're the sweetest and kindest person I've ever known, and you give so much of yourself to others without ever expecting a return.

I miss you every second, I promise I won't call.`;

    const sections = message.split('\n\n');
    let currentSection = 0;

    function showLetter() {
      document.getElementById("introText").style.opacity = 0;
      document.querySelector(".btn").style.display = "none";
      document.getElementById("letterModal").style.display = "flex";
      currentSection = 0;
      typeSection();
    }

    function typeSection() {
      const typedText = document.getElementById("typedText");
      const nextBtn = document.getElementById("nextBtn");
      typedText.innerHTML = "";
      nextBtn.style.display = "none";
      let section = sections[currentSection];
      let i = 0;

      function typeWriter() {
        if (i < section.length) {
          typedText.innerHTML += section.charAt(i);
          i++;
          setTimeout(typeWriter, 60);
        } else if (currentSection < sections.length - 1) {
          nextBtn.style.display = "inline-block";
        }
      }

      typeWriter();
    }

    function showNextSection() {
      currentSection++;
      if (currentSection < sections.length) {
        typeSection();
      }
    }

    function closeModal() {
      document.getElementById("letterModal").style.display = "none";
      document.getElementById("introText").style.opacity = 1;
      document.querySelector(".btn").style.display = "inline-block";
      document.getElementById("typedText").innerHTML = "";
      document.getElementById("nextBtn").style.display = "none";
    }
  </script>
</body>
</html>